<!DOCTYPE html>
<html
	lang="en"
	data-bs-theme="auto"
>
	<head>
		<meta charset="utf-8">
		<meta name="author" content="Karoryfer Samples and SFZ Format Team">
		<meta name="web-author" content="redtide and SFZ Format Team">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
		<title>SFZ2 modulations - SFZ Format</title>
	
		<script src="../../assets/js/color-modes.js"></script>
		<link href="../../atom.xml" rel="alternate" title="News" type="application/atom+xml" />

		
		<!-- realfavicongenerator.net -->
		<link rel="apple-touch-icon" sizes="152x152" href="../../assets/ico/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="../../assets/ico/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="../../assets/ico/favicon-16x16.png">
		<link rel="manifest" href="../../assets/ico/site.webmanifest">
		<link rel="mask-icon" href="../../assets/ico/safari-pinned-tab.svg" color="#5bbad5">
		<link rel="shortcut icon" href="../../assets/ico/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="../../assets/ico/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">
		<link href="../../assets/css/style.min.css" rel="stylesheet" media="screen">
		<link href="../../../../assets/css/fontawesome.min.css" rel="stylesheet">
		<link href="../../../../assets/css/brands.min.css" rel="stylesheet">
		<link href="../../../../assets/css/solid.min.css" rel="stylesheet">
		<link href="../../../../assets/css/v4-font-face.min.css" rel="stylesheet">
		<link href="../../../../assets/css/bootstrap-table.min.css" rel="stylesheet">		<link
			rel="stylesheet"
			href="../../assets/css/github.min.css"
			disabled="disabled"
			id="hljs_light"
		/>
		<link
			rel="stylesheet"
			href="../../assets/css/github-dark-dimmed.min.css"
			disabled="disabled"
			id="hljs_dark"
		/>
	</head>
	<body>
		<button onclick="topFunction()" id="scrollButton" title="Go to top">Top</button>
		<div class="container">			<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  		<!--!
				Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License
				https://fontawesome.com/license/free
				(Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
				Copyright 2023 Fonticons, Inc.
			-->
				<symbol id="sun" viewBox="0 0 512 512">
					<path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z" />
				</symbol>
				<symbol id="moon" viewBox="0 0 384 512">
					<path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" />
				</symbol>
				<symbol id="circle-half-stroke" viewBox="0 0 512 512">
					<path d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z" />
				</symbol>
				<symbol id="check" viewBox="0 0 448 512">
					<path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" />
				</symbol>
			</svg>
			<nav
				class="navbar navbar-expand-lg bg-dark text-bg-dark"
				data-bs-theme="dark"
			>
				<div class="container-fluid">

					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarContent"
						aria-controls="navbarContent"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>

					<a
						class="navbar-brand"
						href="../.."
						>
							<img
								alt="Logo image"
								src="../../assets/img/logo.svg"
							/>
					</a>

					<div class="collapse navbar-collapse" id="navbarContent">
						<ul class="navbar-nav mt-2 mt-lg-0">
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSyntax"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Syntax
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSyntax"
								>
									<li>
										<a class="dropdown-item"
											href="/headers/"
										>
											Headers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/opcodes/"
										>
											Opcodes
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/modulations/"
										>
											Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/lfo"
										>
											LFO
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/extensions/midi_ccs"
										>
											Extended MIDI CCs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/misc/categories"
										>
											Types & Categories
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/versions"
										>
											Versions
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSoftware"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Software
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSoftware"
								>
									<li>
										<a class="dropdown-item"
											href="/software/players"
										>
											Players
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/software/tools"
										>
											Tools
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarTutorials"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Tutorials
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarTutorials"
								>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basics"
										>
											Basics
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basic_sfz_file"
										>
											Basic / Template
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sustained_note_basics"
										>
											Sustained Note Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/vibrato"
										>
											Vibrato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/legato"
										>
											Legato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/unison"
										>
											Unison
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/range_extension"
										>
											Range Extension
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/modular_instruments"
										>
											Modular Instruments
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/subtractive_synths"
										>
											Subtractive Synthesizers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/strum"
										>
											Strumming
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/drum_basics"
										>
											Drum & Round Robin Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/cymbal_muting"
										>
											Cymbal Muting
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/epic_drums"
										>
											Epic Drums
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/brush_stirs"
										>
											Brush Stirs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz1_modulations"
										>
											SFZ 1 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz2_modulations"
										>
											SFZ 2 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/lfo"
										>
											Pitch LFO Examples
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/videos"
										>
											Video Tutorials
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="https://sfzinstruments.github.io"
								>
									Instruments
								</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="/news"
								>
									News
								</a>
							</li>
						</ul>
						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
									<a
										href="#"
										class="nav-link"
										data-bs-toggle="modal"
										data-bs-target="#mkdocs_search_modal">
											<i class="fa fa-search"></i> Search
									</a>
							</li>
							<li class="nav-item dropdown">
								<button
									class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
									id="bd-theme"
									type="button"
									aria-expanded="false"
									data-bs-toggle="dropdown"
									data-bs-display="static"
									aria-label="Toggle theme (auto)">
									<svg class="bi my-1 theme-icon-active"><use href="#circle-half-stroke"></use></svg>
									<span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="light"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#sun"></use></svg>
											Light
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="dark"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#moon"></use></svg>
											Dark
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center active"
											data-bs-theme-value="auto"
											aria-pressed="true">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#circle-half-stroke"></use></svg>
											Auto
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="row mt-4" id="content">
				<div class="col-md-9">
					<article>
						<h1>SFZ2 modulations</h1><p>The <a href="../../modulations/">modulations</a> available under SFZ2 are much more flexible than the fixed set
<a href="../sfz1_modulations/">specified by SFZ1</a>. All SFZ1 modulations are still available under the SFZ2 spec,
and will often be easier to use in cases such as envelopes where the standard
AHDSR shape is all that's needed.</p>
<p>The basic difference is that SFZ1 has three envelopes - one assigned to
volume, one to pitch, and one to filter cutoff. There are also three LFOs,
one for each of those modulation targets. SFZ2 can have an arbitraty number
of envelopes and LFOs, with the ability to specify one or more modulation
targets from a list. It is even possible for LFOs to modulate other LFOs
and envelopes to modulate LFOs (but not for LFOs to modulate envelopes).
In addition, SFZ2 envelopes can have an arbitrary number of points.</p>
<h2 id="additional-midi-cc-modulation">Additional MIDI CC modulation</h2>
<p>SFZ2 adds one more paramter which can be modulated with MIDI CC - <a href="../../opcodes/width_onccN/">stereo width</a>.
Also need to document pan_onccX and find out whether it's SFZ1 or SFZ2 - currently
not sure, needs testing.</p>
<h2 id="lfos">LFOs</h2>
<p>For each LFO, an LFO number must be specified - lfo01, lfo02 etc. Each
LFO has the following parameters:</p>
<p><a href="../../opcodes/lfoN_freq/">lfoN_wave</a>
<a href="../../opcodes/lfoN_freq_smoothccX/">lfoN_freq_onccX</a>
<a href="../../opcodes/lfoN_delay/">lfoN_freq_stepccX</a>
<a href="../../opcodes/lfoN_fade/">lfoN_delay_onccX</a>
<a href="../../opcodes/lfoN_phase/">lfoN_fade_onccX</a>
<a href="../../opcodes/lfoN_count/">lfoN_phase_onccX</a></p>
<p>Click on each link for a detailed description. Similarly to SFZ1 LFOs,
there's a frequency, a delay and a fade-in time. In addition, the
waveform shape and initial phase can be specified and the LFO can
be configured to run for a limited number of counts.</p>
<p>The frequency, delay, fade and initial phase can all be modulated by
MIDI CC. There is no modulation for LFO depth - to control the depth
of vibrato etc, use MIDI CC to modulate how much the LFO affects the
desired target.</p>
<h2 id="available-lfo-targets">Available LFO targets</h2>
<p>The available modulation targets for LFOs are These destinations are
added as a suffix to 'lfoN_'. For example</p>
<pre><code class="language-sfz">lfo01_pitch=100
</code></pre>
<p>makes LFO 01 affect pitch with a max depth of 100 cents.</p>
<pre><code class="language-sfz">lfo03_freq_lfo01_oncc117=1.3
</code></pre>
<p>would make LFO 03 add up to 1.3 Hertz to
the frequency of LFO 01, with the amount modulated by MIDI CC 117.</p>
<p>The avaialble targets related to volume and stereo positioning are:</p>
<ul>
<li>volume</li>
<li>volume_oncc</li>
<li>volume_smoothcc</li>
<li>volume_stepcc</li>
<li>amplitude</li>
<li>amplitude_oncc</li>
<li>amplitude_smoothcc</li>
<li>amplitude_stepcc</li>
<li>pan</li>
<li>pan_oncc</li>
<li>pan_smoothcc</li>
<li>pan_stepcc</li>
<li>width</li>
<li>width_oncc</li>
<li>width_smoothcc</li>
<li>width_stepcc</li>
</ul>
<p>The targets for pitch modulation are:</p>
<ul>
<li>pitch</li>
<li>pitch_oncc</li>
<li>pitch_smoothcc</li>
<li>pitch_stepcc</li>
</ul>
<p>The targets for filter modulation are cutoff and resonance, for both
the first and second filter:</p>
<ul>
<li>cutoff</li>
<li>cutoff_oncc</li>
<li>cutoff_smoothcc</li>
<li>cutoff_stepcc</li>
<li>resonance</li>
<li>resonance_oncc</li>
<li>resonance_smoothcc</li>
<li>resonance_stepcc</li>
<li>cutoff2</li>
<li>cutoff2_oncc</li>
<li>cutoff2_smoothcc</li>
<li>cutoff2_stepcc</li>
<li>resonance2</li>
<li>resonance2_oncc</li>
<li>resonance2_smoothcc</li>
<li>resonance2_stepcc</li>
</ul>
<p>The modulations of the EQ bands are:</p>
<ul>
<li>eqNfreq</li>
<li>eqNfreq_oncc</li>
<li>eqNfreq_smoothcc</li>
<li>eqNfreq_stepcc</li>
<li>eqNbw</li>
<li>eqNbw_oncc</li>
<li>eq1bw_smoothcc</li>
<li>eqNbw_stepcc</li>
<li>eqNgain</li>
<li>eqNgain_oncc</li>
<li>eqNgain_smoothcc</li>
<li>eqNgain_stepcc</li>
</ul>
<p>The following targets affect other LFOs:</p>
<ul>
<li>freq_lfoX</li>
<li>depth_lfoX</li>
<li>depthadd_lfoX</li>
</ul>
<p>Some Cakewalk instruments can also modulate the decim and bitred effects:</p>
<ul>
<li>decim</li>
<li>decim_oncc</li>
<li>decim_smoothcc</li>
<li>decim_stepcc</li>
<li>bitred</li>
<li>bitred_oncc</li>
<li>bitred_smoothcc</li>
<li>bitred_stepcc</li>
</ul>
<h2 id="lfo-examples">LFO examples</h2>
<p>Here is an example of how one LFO could be used to control both pitch vibrato
and volume vibrato (tremolo) with the rate, pitch vibrato depth, tremolo
depth, delay and fade each controlled by a separate MIDI CC parameter:</p>
<pre><code class="language-sfz">lfo01_pitch_oncc111=22 // Vibrato LFO
lfo01_freq=2
lfo01_freq_oncc113=7
lfo01_delay_oncc114=0.500
lfo01_fade_oncc115=0.500
lfo01_volume=0 // This LFO also does tremolo
lfo01_volume_oncc112=2
</code></pre>
<p>And an LFO which does just pitch vibrato, and has a second LFO modulating its
rate to create some unsteadiness:</p>
<pre><code class="language-sfz">lfo01_pitch_oncc111=22 // Vibrato LFO
lfo01_freq=2
lfo01_freq_oncc113=7
lfo01_delay_oncc114=0.500
lfo01_fade_oncc115=0.500

lfo2_freq_lfo1_oncc116=3   //Affect the rate of the other LFO for unsteady vibrato
lfo02_wave=1
lfo02_freq=0.1
lfo02_freq_oncc116=0.9
</code></pre>
<p>For randomized humanization, the extended MIDI CC 135 can be used to randomize the
initial phase and speed of the second LFO.</p>
<pre><code class="language-sfz">lfo01_pitch_oncc111=22 // Vibrato LFO
lfo01_freq=2
lfo01_freq_oncc113=7
lfo01_delay_oncc114=0.500
lfo01_fade_oncc115=0.500

lfo2_freq_lfo1_oncc116=3   //Affect the rate of the other LFO for unsteady vibrato
lfo02_wave=1
lfo02_freq=0.1
lfo02_freq_oncc116=0.8
lfo02_phase_oncc135=1
lfo02_freq_oncc135=0.2
</code></pre>
<h2 id="envelopes">Envelopes</h2>
<p>SFZ2 envelopes are numbered and can have an arbitrary number of points, with
the level at each point and its modulation set separately. The opcodes used
to create these envelopes are:</p>
<ul>
<li><a href="../../opcodes/egN_points/">egN_points</a></li>
<li><a href="../../opcodes/egN_levelX/">egN_levelX</a></li>
<li><a href="../../opcodes/egN_levelX/">egN_levelX_onccY</a></li>
<li><a href="../../opcodes/egN_timeX/">egN_timeX</a></li>
<li><a href="../../opcodes/egN_timeX/">egN_timeX_onccY</a></li>
<li><a href="../../opcodes/egN_shapeX/">egN_shapeX</a></li>
<li><a href="../../opcodes/egN_curveX/">egN_curveX</a></li>
<li><a href="../../opcodes/egN_sustain/">egN_sustain</a></li>
<li><a href="../../opcodes/egN_loop/">egN_loop</a></li>
</ul>
<h2 id="envelope-targets">Envelope targets</h2>
<p>Similarly to LFOs, envelopes have assignable modulation targets. These
destinations are added as a suffix to ‘egN_’  - so, for example:</p>
<pre><code class="language-sfz">eg01_pitch=2400
</code></pre>
<p>would have envelope 01 modulate pitch, with an envelope depth of 2400 cents.</p>
<p>These are the available targets related to amplitude and stereo positioning:</p>
<ul>
<li>amplitude</li>
<li>amplitude_oncc</li>
<li>volume</li>
<li>volume_oncc</li>
<li>pan</li>
<li>pan_oncc</li>
<li>width</li>
<li>width_oncc</li>
</ul>
<p>Targets for pitch:</p>
<ul>
<li>pitch</li>
<li>pitch_oncc</li>
</ul>
<p>Targets for filters:</p>
<ul>
<li>cutoff</li>
<li>cutoff_oncc</li>
<li>resonance</li>
<li>resonance_oncc</li>
<li>cutoff2</li>
<li>cutoff2_oncc</li>
<li>resonance2</li>
<li>resonance2_oncc</li>
</ul>
<p>Targets for EQ bands:</p>
<ul>
<li>eqNbw</li>
<li>eqNbw_oncc</li>
<li>eqNfreq</li>
<li>eqNfreq_oncc</li>
<li>eqNgain</li>
<li>eqNgain_oncc</li>
</ul>
<p>Targets for modulating LFOs:</p>
<ul>
<li>depth_lfo</li>
<li>depthadd_lfo</li>
<li>freq_lfo</li>
</ul>
<p>These two need to be tested - are they for envelopes to modulate other envelopes?</p>
<ul>
<li>depth</li>
<li>depth_oncc</li>
</ul>
<p>Targets for modulating decim and bitred do not appear to have been included in the specification.</p>
<h2 id="example-envelope">Example envelope</h2>
<p>Here is a simple pitch envelope which will start a note with a glide from up to an octave
lower, with the depth and time modulated by MIDI CCs. The envelope will statt at a lower
value at envelope point 0, and return the pitch to normal at envelope point 1.</p>
<pre><code class="language-sfz">eg01_sustain=1 //Pitch envelope setup for slides
eg01_level0=1
eg01_level1=0
eg01_time0=0
eg01_time1=0
eg01_pitch_oncc100=-1200
eg01_time1_oncc101=1
</code></pre>
<h2 id="using-lfos-and-envelopes-together">Using LFOs and envelopes together</h2>
<p>Here is an example of using both an envelope and an LFO to modulate pitch, with common
depth and delay parameters. The goal here is asymmetrical pitch vibrato - vibrato which
does not go up and down around the original pitch, but instead only goes below it. This
is idiomatic with saxophones, and is also how vibrato with certain types of non-floating
guitar bridges works (string-bending vibrato is similar, of course, but in the other
direction).</p>
<p>Shifting the phase of LFO01 will make the vibrato waveform start at the top. We also need
to lower the pitch by the same amount as the vibrato depth. Using an envelope for this
allows us to delay the onset of the vibrato (again, an important element of idiomatic
saxophone vibrato) without a discontinuous jump in pitch.</p>
<pre><code class="language-sfz">lfo01_pitch_oncc111=20 //Saxy vibrato LFO - goes down from the main pitch
lfo01_freq=2
lfo01_freq_oncc112=8
lfo01_phase=0.25 //To make it start at the top
lfo01_delay_oncc116=1
eg01_pitch_oncc111=20
eg01_sustain=1
eg01_level0=0
eg01_level1=0
eg01_level2=-1
eg01_time0=0
eg01_time1=0
eg01_time1_oncc116=1
eg01_time2=0
</code></pre>
<h2 id="using-sfz1-and-sfz2-modulations-together">Using SFZ1 and SFZ2 modulations together</h2>
<p>Both SFZ1 and SFZ2 modulations may be mixed freely. Indeed, it may be simpler to accomplish
the above using the SFZ1 pitch envelope, as it is sufficient in this case, with the SFZ2
LFO. Setting the initial phase and modulating the delay with MIDI CC would not be possible
with the SFZ1 pitch LFO.</p>
<pre><code class="language-sfz">lfo01_pitch_oncc111=20 //Saxy vibrato LFO - goes down from the main pitch
lfo01_freq=2
lfo01_freq_oncc112=8
lfo01_phase=0.25 //To make it start at the top
lfo01_delay_oncc116=1
pitcheg_delay_oncc116=1 //Pitch envelope to drop the central pitch when sax vibrato kicks in
pitcheg_depth_oncc111=-20
</code></pre>
<h2 id="smoothccn-and-stepccn">SmoothccN and stepccN</h2>
<p>Most MIDI CC modulations, though not all, can have use <a href="../../modulations/smoothccN/">smoothccN</a> and <a href="../../modulations/stepccN/">stepccN</a>.
These work similarly to <a href="../../opcodes/bend_smooth/">bend_smooth</a> and <a href="../../opcodes/bend_step/">bend_step</a>.</p>
<p>SmoothccN adds "inertia" to a modulation, so quickly changing the MIDI CC value has a slower effect
on the modulation target than it would normally. StepccN causes the modulation to happen in a
discrete number of steps. Setting the number of steps to 1 would make the modulation an
all-or-nothing control.</p>
<p>This is what's possible under the SFZ2 specification. There are some additional modulations
available as <a href="../../opcodes/?v=aria">ARIA extensions</a>, with <a href="../../opcodes/amplitude/">amplitude_onccN</a> being a very useful one.</p>
					</article>
				</div>
				<div class="col-md-3">
					<aside>
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fa fa-eye"
									aria-hidden="true"></i>
								Follow us
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/"
											title="GitHub Organization" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-github fa-fw"
										aria-hidden="true"></i>
										GitHub Organization</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="/atom.xml"
											title="News Atom Feed" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-rss fa-fw"
										aria-hidden="true"></i>
										News Atom Feed</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://discord.gg/t7nrZ6d"
											title="Discord Chat" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-discord fa-fw"
										aria-hidden="true"></i>
										Discord Chat</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://kiwiirc.com/nextclient/#irc://irc.libera.chat:+6697/#sfzformat"
											title="Internet Relay Chat" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-hashtag fa-fw"
										aria-hidden="true"></i>
										IRC</a>
									</li>
								</ul>
							</div>
						</div>
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fa fa-link"
									aria-hidden="true"></i>
								Quick links
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="/legacy"
											title="Old rgc:audio SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-book fa-fw"
										aria-hidden="true"></i>
										Old rgc:audio SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="http://www.drealm.info/sfz/"
											title="Peter L. Jones' SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-book fa-fw"
										aria-hidden="true"></i>
										Peter L. Jones' SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.kvraudio.com/forum/viewtopic.php?f=42&t=508861"
											title="KVR Forum SFZ post" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-users fa-fw"
										aria-hidden="true"></i>
										KVR Forum SFZ post</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.plogue.com/plgfrms/viewforum.php?f=14"
											title="Plogue Forum" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-users fa-fw"
										aria-hidden="true"></i>
										Plogue Forum</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/tests/"
											title="rgc:audio SFZ test suite" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-download fa-fw"
										aria-hidden="true"></i>
										rgc:audio SFZ test suite</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/opcode-suggestions/"
											title="Opcode suggestions" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-lightbulb fa-fw"
										aria-hidden="true"></i>
										Opcode suggestions</a>
									</li>
								</ul>
							</div>
						</div>
						
					</aside>
				</div>
			</div>			<hr>
			<footer>
				<p style="text-align:left">
					<span style="float:right">
						This site is open source.
						<a href="https://github.com/sfz/sfz.github.io/edit/source/docs/tutorials/sfz2_modulations.md">
						Improve this page</a>
					</span>
				</p>
			</footer>
		</div>		<script>
			var base_url	= "../..",
					shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
		</script>
		<script src="../../assets/js/jquery.min.js"></script>
		<script async defer src="../../assets/js/popper.min.js"></script>
		<script async defer src="../../assets/js/bootstrap.min.js"></script>
		<script async defer src="../../assets/js/anchor.min.js"></script>
		<script async defer src="../../assets/js/base.min.js"></script>
		<script async defer src="../../assets/js/scroll-to-top.min.js"></script>
		<script async defer src="../../../../assets/js/index.bundle.min.js"></script>
		<script async defer src="../../../../assets/js/bootstrap-table.min.js"></script>
		<script async defer src="../../../../assets/js/mermaid.min.js"></script>
		<script async defer src="../../../../search/main.js"></script>		<script
			type="text/javascript"
			src="../../assets/js/highlight.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/bash.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/cpp.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/sfz.min.js">
		</script>
		<script>hljs.highlightAll();</script>
		<script>
			window.addEventListener("load", function (event) {
				if (anchors) {
					anchors.options.placement = 'left';
					anchors.add();
				}
			});
		</script><!-- Search Dialog -->
<div
	class="modal fade"
	id="mkdocs_search_modal"
	tabindex="-1"
	role="dialog"
	aria-labelledby="searchModalLabel"
	aria-hidden="true"
>
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-body">
			<div class="modal-header">
				<h4 class="modal-title"
						id="searchModalLabel">Search</h4>
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
				</button>
			</div>
			<div class="modal-body">
				<p>From here you can search these documents. Enter your search terms below.</p>
				<form>
					<div class="form-group">
						<input
							type="search"
							class="form-control"
							placeholder="Search..."
							id="mkdocs-search-query"
							title="Type search term here"
						>
					</div>
				</form>
				<div
						id="mkdocs-search-results"
						data-no-results-text="No results found">
				</div>
			</div>
			<div class="modal-footer"></div>
		</div>
	</div>
</div><!-- Keyboard Dialog -->
				<div
						class="modal"
						id="mkdocs_keyboard_modal"
						tabindex="-1"
						role="dialog"
						aria-labelledby="keyboardModalLabel"
						aria-hidden="true"
				>
						<div class="modal-dialog">
								<div class="modal-content">
										<div class="modal-header">
												<h4 class="modal-title"
														id="keyboardModalLabel">Keyboard Shortcuts</h4>
												<button
														type="button"
														class="close"
														data-dismiss="modal"
												>
														<span aria-hidden="true">&times;</span>
														<span class="visually-hidden">Close</span>
												</button>
										</div>
										<div class="modal-body">
										<table class="table">
												<thead>
												<tr>
														<th style="width: 20%;">Keys</th>
														<th>Action</th>
												</tr>
												</thead>
												<tbody>
												<tr>
														<td class="help shortcut"><kbd>?</kbd></td>
														<td>Open this help</td>
												</tr>
												<tr>
														<td class="next shortcut"><kbd>n</kbd></td>
														<td>Next page</td>
												</tr>
												<tr>
														<td class="prev shortcut"><kbd>p</kbd></td>
														<td>Previous page</td>
												</tr>
												<tr>
														<td class="search shortcut"><kbd>s</kbd></td>
														<td>Search</td>
												</tr>
												</tbody>
										</table>
										</div>
										<div class="modal-footer">
										</div>
								</div>
						</div>
				</div>
	</body>
</html>