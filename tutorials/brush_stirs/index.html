<!DOCTYPE html>
<html
	lang="en"
	data-bs-theme="auto"
>
	<head>
		<meta charset="utf-8">
		<meta name="author" content="Karoryfer Samples and SFZ Format Team">
		<meta name="web-author" content="redtide and SFZ Format Team">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
		<title>Brush stirs - SFZ Format</title>
	
		<script src="../../assets/js/color-modes.js"></script>
		<link href="../../atom.xml" rel="alternate" title="News" type="application/atom+xml" />

		
		<!-- realfavicongenerator.net -->
		<link rel="apple-touch-icon" sizes="152x152" href="../../assets/ico/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="../../assets/ico/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="../../assets/ico/favicon-16x16.png">
		<link rel="manifest" href="../../assets/ico/site.webmanifest">
		<link rel="mask-icon" href="../../assets/ico/safari-pinned-tab.svg" color="#5bbad5">
		<link rel="shortcut icon" href="../../assets/ico/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="../../assets/ico/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">
		<link href="../../assets/css/style.min.css" rel="stylesheet" media="screen">
		<link href="../../../../assets/css/fontawesome.min.css" rel="stylesheet">
		<link href="../../../../assets/css/brands.min.css" rel="stylesheet">
		<link href="../../../../assets/css/solid.min.css" rel="stylesheet">
		<link href="../../../../assets/css/v4-font-face.min.css" rel="stylesheet">
		<link href="../../../../assets/css/bootstrap-table.min.css" rel="stylesheet">		<link
			rel="stylesheet"
			href="../../assets/css/github.min.css"
			disabled="disabled"
			id="hljs_light"
		/>
		<link
			rel="stylesheet"
			href="../../assets/css/github-dark-dimmed.min.css"
			disabled="disabled"
			id="hljs_dark"
		/>
	</head>
	<body>
		<button onclick="topFunction()" id="scrollButton" title="Go to top">Top</button>
		<div class="container">			<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  		<!--!
				Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License
				https://fontawesome.com/license/free
				(Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
				Copyright 2023 Fonticons, Inc.
			-->
				<symbol id="sun" viewBox="0 0 512 512">
					<path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z" />
				</symbol>
				<symbol id="moon" viewBox="0 0 384 512">
					<path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" />
				</symbol>
				<symbol id="circle-half-stroke" viewBox="0 0 512 512">
					<path d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z" />
				</symbol>
				<symbol id="check" viewBox="0 0 448 512">
					<path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" />
				</symbol>
			</svg>
			<nav
				class="navbar navbar-expand-lg bg-dark text-bg-dark"
				data-bs-theme="dark"
			>
				<div class="container-fluid">

					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarContent"
						aria-controls="navbarContent"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>

					<a
						class="navbar-brand"
						href="../.."
						>
							<img
								alt="Logo image"
								src="../../assets/img/logo.svg"
							/>
					</a>

					<div class="collapse navbar-collapse" id="navbarContent">
						<ul class="navbar-nav mt-2 mt-lg-0">
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSyntax"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Syntax
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSyntax"
								>
									<li>
										<a class="dropdown-item"
											href="/headers/"
										>
											Headers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/opcodes/"
										>
											Opcodes
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/modulations/"
										>
											Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/lfo"
										>
											LFO
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/extensions/midi_ccs"
										>
											Extended MIDI CCs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/misc/categories"
										>
											Types & Categories
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/versions"
										>
											Versions
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSoftware"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Software
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSoftware"
								>
									<li>
										<a class="dropdown-item"
											href="/software/players"
										>
											Players
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/software/tools"
										>
											Tools
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarTutorials"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>
									Tutorials
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarTutorials"
								>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basics"
										>
											Basics
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basic_sfz_file"
										>
											Basic / Template
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sustained_note_basics"
										>
											Sustained Note Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/vibrato"
										>
											Vibrato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/legato"
										>
											Legato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/unison"
										>
											Unison
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/range_extension"
										>
											Range Extension
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/modular_instruments"
										>
											Modular Instruments
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/subtractive_synths"
										>
											Subtractive Synthesizers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/strum"
										>
											Strumming
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/drum_basics"
										>
											Drum & Round Robin Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/cymbal_muting"
										>
											Cymbal Muting
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/epic_drums"
										>
											Epic Drums
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/brush_stirs"
										>
											Brush Stirs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz1_modulations"
										>
											SFZ 1 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz2_modulations"
										>
											SFZ 2 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/lfo"
										>
											Pitch LFO Examples
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/videos"
										>
											Video Tutorials
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="https://sfzinstruments.github.io"
								>
									Instruments
								</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="/news"
								>
									News
								</a>
							</li>
						</ul>
						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
									<a
										href="#"
										class="nav-link"
										data-bs-toggle="modal"
										data-bs-target="#mkdocs_search_modal">
											<i class="fa fa-search"></i> Search
									</a>
							</li>
							<li class="nav-item dropdown">
								<button
									class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
									id="bd-theme"
									type="button"
									aria-expanded="false"
									data-bs-toggle="dropdown"
									data-bs-display="static"
									aria-label="Toggle theme (auto)">
									<svg class="bi my-1 theme-icon-active"><use href="#circle-half-stroke"></use></svg>
									<span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="light"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#sun"></use></svg>
											Light
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="dark"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#moon"></use></svg>
											Dark
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center active"
											data-bs-theme-value="auto"
											aria-pressed="true">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#circle-half-stroke"></use></svg>
											Auto
											<svg class="bi ms-auto d-none"><use href="#check"></use></svg>
										</button>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="row mt-4" id="content">
				<div class="col-md-9">
					<article>
						<h1>Brush stirs</h1><p>Not all drum sounds are hits which can be used in the usual way described in our
<a href="../drum_basics/">drum basics</a> article. One major exception are brush techniques which involve
scraping the brush across a drum head, often in a circle. If you are not sure what
this looks or sounds like, <a href="https://www.youtube.com/watch?v=R982CdhRF9E">this video is a good guide</a>.
These techniques are called swirls or stirs, and for the purpose of this article
we'll call them stirs. As the sound changes in intensity, and the duration
of the scrapes needs to fit the tempo and rhythm of the song, sampling them
requires a different approach to the usual drum hits. The two common approaches
are to completely ignore this technique and not sample it at all, and to record
loops to fit various tempos.</p>
<p>This article describes another approach. The key principle here
is that stirs are a noisy, nonlinear sound with a lot of randomness, which
makes them very easy to crossfade or loop with no phase issues. Therefore,
instead of trying to record stirs performed in a realistic way, we propose
recording long, unrealistically steady stirs with no perceptible rhythm or
expression, and then using those samples as source material for building up
a musical stir.</p>
<h2 id="recording-the-source-material">Recording the source material</h2>
<p>For the purposes of this example, let's assume the source stirs are recorded
at four speeds, with 1 being the slowest and 4 being the fastest. Speed 1 is
slow enough that a full circle around the head of the drum is completed in
more than 4 seconds. That's enough to fill a measure at 60 bpm and still have
some sound left, so the user can start the next stir before the previous one
ends, and thus achieve a continuous sound. Speed 4 is several circles per
second, to match the speed at which the brush would be moving during the peak
of an aggressive stir. Making the sound steady at this speed is a challenge.</p>
<p>As for how long the recordings need to be, speed 1 needs to be long enough
for the longest stir we want to be able to make. However, if tuning controls
are to be applied, it's important to remember that pitching a sample up
shortens it, so if the tuning range is to extend to one octave up, then a
10-second sample is the minimum to make a 5-second stir. Speeds 3 and 4
are not used thorughout the duration of a stir but only for peaks, and for
the purposes of this example they can be half the length of speed 1.</p>
<h2 id="simple-stir-model">Simple stir model</h2>
<p>We can make a very simple stir using speed 1 by playing the sample with
<a href="../../opcodes/loop_mode/">loop_mode</a> set to one_shot, like we normally would set it for a
drum hit, and using a simple <a href="../../modulations/envelope_generators/#sfz-1-egs">volume envelope</a> to fade this sample
in over a time, and then fade it out.</p>
<pre><code>&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_1.wav
ampeg_attack=1.0 ampeg_decay=1.0 ampeg_sustain=0
</code></pre>
<p>The resulting volume envelope will look something like this. The illustrations are
not precise, only general shapes.</p>
<p><img
  class="img-fluid"
  alt="Simple stir envelope"
  src="./../assets/img/tutorials/brush_stirs/stir1.jpg"
/></p>
<p>This is a good start, and we can add expression and realism by layering a
faster speed on top of it near the stir's peak, with half the duration
of the base layer. We use ampeg_delay to delay the start of the second
layer by the same amount, so the peaks of both layers align in time.</p>
<pre><code class="language-sfz">&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_1.wav
ampeg_attack=1.0 ampeg_decay=1.0 ampeg_sustain=0
&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_3.wav
ampeg_delay=0.5 ampeg_attack=0.5 ampeg_decay=0.5 ampeg_sustain=0
</code></pre>
<p><img
  class="img-fluid"
  alt="Two layer stir envelopes"
  src="./../assets/img/tutorials/brush_stirs/stir2.jpg"
/></p>
<h2 id="modulating-stir-duration">Modulating stir duration</h2>
<p>This has a fixed duration and is not flexible, but the stir length can
easily be modulated by a single CC parameter changing all the
envelope durations. Extremely short stirs, lasting only a small fraction
of a second, are obviously not going to sound realistic, so we can use
a minimum value to prevent that. Let's use CC1 (standard mod wheel).</p>
<pre><code class="language-sfz">&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_1.wav
ampeg_attack=0.1 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.4 ampeg_decaycc1=0.4
&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
</code></pre>
<h2 id="making-the-shape-more-realistic">Making the shape more realistic</h2>
<p>Drummers testing the above model have asked for some adjustments to
make it sound more realistic. One is to make the first half of the base
layer steadier. This can be done very easily by shortening the attack
and adding a hold time to the envelope, ensuring that they still add up
to the same amount of time that the faster layer's delay and attack,
so the peak will remain aligned at all values of the modulation
parameter. The attack stage should generally be shorter than the hold
stage.</p>
<pre><code class="language-sfz">&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
</code></pre>
<p><img
  class="img-fluid"
  alt="Stir envelopes using hold in base layer"
  src="./../assets/img/tutorials/brush_stirs/stir3.jpg"
/></p>
<p>Also, the peak should be sharper and more accented than it is
with linear envelopes. Changing the envelope curves accomplishes this,
though the initial attack envelope of the base layer can remain
linear. The below values seem like a decent start.</p>
<pre><code class="language-sfz">&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=-1.4
&lt;region&gt;key=26 loop_mode=one_shot
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4
</code></pre>
<p><img
  class="img-fluid"
  alt="Stir envelopes with curves"
  src="./../assets/img/tutorials/brush_stirs/stir4.jpg"
/></p>
<h2 id="adjusting-the-envelope-shapes">Adjusting the envelope shapes</h2>
<p>The above fixed envelope shapes are good for medium tempos and energy levels,
but for slow tempos the flat envelope shapes actually work quite well, and
more energetic tracks might sound better with even sharper envelope peaks. It
would be nice to adjust the envelope curve shapes with MIDI CC, but it is not
currently possible to do this. It's possible to work around this by crossfading
sharp-envelope and flat-envelope regions, or use locc/hicc to select between
several pre-baked <a href="../../opcodes/ampeg_attack_shape/">envelope shapes</a>. Here's an example of the latter method.</p>
<pre><code class="language-sfz">&lt;group&gt;key=26 loop_mode=one_shot

&lt;region&gt;hicc100=42
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
&lt;region&gt;hicc100=42
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0

&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=-1.4
&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4

&lt;region&gt;locc100=87
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=-3.5
&lt;region&gt;locc100=87
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
</code></pre>
<h2 id="adding-ornaments">Adding ornaments</h2>
<p>So far, we have a stir with adjustable duration and shape which peaks
halfway through. More complex patterns can have more than one peak,
though. A simple way to emulate that is to use a differnet MIDI note
to trigger short ornaments which will add a brief extra sound to the
stir, thus emulating a momentary acceleration of the brush. We can use
one of the higher stir speeds for this.</p>
<pre><code class="language-sfz">&lt;group&gt;key=27 loop_mode=one_shot sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.2 ampeg_decaycc1=0.2

&lt;region&gt;hicc100=42
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0

&lt;region&gt;hicc100=42
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4

&lt;region&gt;hicc100=42
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
</code></pre>
<h2 id="accents">Accents</h2>
<p>We can also create accents, which are similar to the typical stir but peak much
more quickly and use faster speeds. In pracitce, they can be used either as
short, aggressive stirs, or added on top of basic stirs to create more complex
patterns. The difference in the SFZ here is that the attack curve shape can be applied to
the attack portion as well, and there is no hold stage in the envelope.</p>
<pre><code class="language-sfz">&lt;group&gt;key=28 loop_mode=one_shot

&lt;region&gt;hicc100=42
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
&lt;region&gt;hicc100=42
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0

&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4
&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4

&lt;region&gt;locc100=87
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
&lt;region&gt;locc100=87
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
</code></pre>
<h2 id="muting">Muting</h2>
<p>As all the above sounds have loop_mode set to one_shot, triggering a note causes
the sound to play until the volume envelope drops to zero. If ending a stir
earlier than that is required, we can use polyphony groups. The <a href="../../opcodes/group/">group</a>
and <a href="../../opcodes/off_by/">off_by</a> opcodes are the key ones here. We can use them to make stirs
self-mute, so that triggering a new stir will mute any previously playing stirs,
as well as add a key which produces no sound, using <a href="../../opcodes/sample/">silence instead of a sample</a>,
but
is in the same mute groups, so triggering this key will mute any stir or accent
currently playing. This key can be used to stop stirs early.</p>
<p>Note that, as usual, separate groups are needed for
layers which are to play simultaneously, and if there are multiple microphone
positions then those would need separate groups as well. In the below example we
also have stirs mute accents, and vice versa, although the ornaments are left
out of the mute groups and can be layered on top of other sounds without muting them.
For a more sophisticated use of mute groups with other pieces of the drum kit,
please see <a href="../cymbal_muting/">cymbal muting</a>.</p>
<pre><code class="language-sfz">&lt;global&gt;loop_mode=one_shot off_mode=normal
ampeg_release=0.1 ampeg_releasecc1=0.2

&lt;group&gt;key=26

&lt;region&gt;hicc100=42
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
group=1 off_by=1
&lt;region&gt;hicc100=42
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
group=2 off_by=2

&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=-1.4
group=1 off_by=1
&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4
group=2 off_by=2

&lt;region&gt;locc100=87
sample=snare_stir_speed_1.wav
ampeg_attack=0.05 ampeg_hold=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_holdcc1=0.35 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=-3.5
group=1 off_by=1
&lt;region&gt;locc100=87
sample=snare_stir_speed_3.wav
ampeg_delay=0.05 ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_delaycc1=0.25 ampeg_attackcc1=0.25 ampeg_decaycc1=0.25
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
group=2 off_by=2

&lt;group&gt;key=27 sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.2 ampeg_decaycc1=0.2

&lt;region&gt;hicc100=42
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0

&lt;region&gt;hicc100=42
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4

&lt;region&gt;hicc100=42
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5

&lt;group&gt;key=28

&lt;region&gt;hicc100=42
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
group=1 off_by=1
&lt;region&gt;hicc100=42
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=0.0 ampeg_decay_shape=0.0
group=2 off_by=2

&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4
group=1 off_by=1
&lt;region&gt;locc100=43 hicc100=86
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=3.5 ampeg_decay_shape=-1.4
group=2 off_by=2

&lt;region&gt;locc100=87
sample=snare_stir_speed_2.wav
ampeg_attack=0.05 ampeg_decay=0.1 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.4
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
group=1 off_by=1
&lt;region&gt;locc100=87
sample=snare_stir_speed_4.wav
ampeg_attack=0.05 ampeg_decay=0.05 ampeg_sustain=0
ampeg_attackcc1=0.05 ampeg_decaycc1=0.2
ampeg_attack_shape=5.2 ampeg_decay_shape=-3.5
group=2 off_by=2

&lt;group&gt;key=29 sample=*silence

&lt;region&gt;group=1 off_by=1
&lt;region&gt;group=2 off_by=2
</code></pre>
<p>It is, of course, possible to apply <a href="../../opcodes/seq_position/">round robins</a> and <a href="../../opcodes/lovel/">dynamic layers</a>
to this, just like any other drum sound. That is left as an exercise to the reader.</p>
<h2 id="alternative-approach">Alternative approach</h2>
<p>The above approach was developed to be playable from an electronic drum kit
controller. For keyboard controllers or sequencing, another approach is possible
where instead of using a MIDI note to trigger a new stir every time the drummer
would complete a circle, we hold down a long note for as long as we want to produce
stirs (so, possibly for several measures, or even the entire duration of a song).
We then <a href="../../opcodes/xfin_loccN/">use MIDI CC to crossfade between the layers</a> to
modulate the speed of the stir in order to create realism and rhythmic interest.
In order to be able to do this, the samples will have to be looped, but as stated
at the beginning, looping or crossfading noisy samples is very easy as there are
no phase issues. We also set the <a href="../../opcodes/loop_mode/">loop_mode</a> opcode to continuous
instead of the one_shot setting used in the earlier approach.</p>
<pre><code class="language-sfz">&lt;group&gt;key=26 loop_mode=continuous ampeg_release=0.25
&lt;region&gt;sample=snare_stir_speed_1.wav xfin_locc1=0 xfin_hicc1=31 xfout_locc1=32 xfout_hicc1=63
&lt;region&gt;sample=snare_stir_speed_2.wav xfin_locc1=32 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=95
&lt;region&gt;sample=snare_stir_speed_3.wav xfin_locc1=64 xfin_hicc1=95 xfout_locc1=96 xfout_hicc1=127
&lt;region&gt;sample=snare_stir_speed_4.wav xfin_locc1=96 xfin_hicc1=127
</code></pre>
<p>In practice, this approach has proven more difficult to use, with it being easy
to sound obviously unrealistic by moving the MIDI CC parameter too quickly or
staying at high values for too long. With care, however, it can produce realistic
results, and it is extremely flexible.</p>
<h2 id="further-possibilities">Further possibilities</h2>
<p>The brush flutter technique can be treated similarly to the base layer of the stirs.
There is no need to layer faster and slower flutters. In theory, this approach
could also be extended to other noisy, highly nonlinear sounds which can vary
in duration - perhaps shakers. The main challenge there would be to record shakers
shaking smoothly for an extended duration.</p>
<p>It is also certainly possible to further improve the above model with more realism
and playablity.</p>
					</article>
				</div>
				<div class="col-md-3">
					<aside>
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fa fa-eye"
									aria-hidden="true"></i>
								Follow us
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/"
											title="GitHub Organization" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-github fa-fw"
										aria-hidden="true"></i>
										GitHub Organization</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="/atom.xml"
											title="News Atom Feed" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-rss fa-fw"
										aria-hidden="true"></i>
										News Atom Feed</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://discord.gg/t7nrZ6d"
											title="Discord Chat" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-discord fa-fw"
										aria-hidden="true"></i>
										Discord Chat</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://kiwiirc.com/nextclient/#irc://irc.libera.chat:+6697/#sfzformat"
											title="Internet Relay Chat" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-hashtag fa-fw"
										aria-hidden="true"></i>
										IRC</a>
									</li>
								</ul>
							</div>
						</div>
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fa fa-link"
									aria-hidden="true"></i>
								Quick links
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="/legacy"
											title="Old rgc:audio SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-book fa-fw"
										aria-hidden="true"></i>
										Old rgc:audio SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="http://www.drealm.info/sfz/"
											title="Peter L. Jones' SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-book fa-fw"
										aria-hidden="true"></i>
										Peter L. Jones' SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.kvraudio.com/forum/viewtopic.php?f=42&t=508861"
											title="KVR Forum SFZ post" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-users fa-fw"
										aria-hidden="true"></i>
										KVR Forum SFZ post</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.plogue.com/plgfrms/viewforum.php?f=14"
											title="Plogue Forum" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-users fa-fw"
										aria-hidden="true"></i>
										Plogue Forum</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/tests/"
											title="rgc:audio SFZ test suite" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-download fa-fw"
										aria-hidden="true"></i>
										rgc:audio SFZ test suite</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/opcode-suggestions/"
											title="Opcode suggestions" style="padding: 0.35rem 0.25rem">
										<i class="fa fa-lightbulb fa-fw"
										aria-hidden="true"></i>
										Opcode suggestions</a>
									</li>
								</ul>
							</div>
						</div>
						
					</aside>
				</div>
			</div>			<hr>
			<footer>
				<p style="text-align:left">
					<span style="float:right">
						This site is open source.
						<a href="https://github.com/sfz/sfz.github.io/edit/source/docs/tutorials/brush_stirs.md">
						Improve this page</a>
					</span>
				</p>
			</footer>
		</div>		<script>
			var base_url	= "../..",
					shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
		</script>
		<script src="../../assets/js/jquery.min.js"></script>
		<script async defer src="../../assets/js/popper.min.js"></script>
		<script async defer src="../../assets/js/bootstrap.min.js"></script>
		<script async defer src="../../assets/js/anchor.min.js"></script>
		<script async defer src="../../assets/js/base.min.js"></script>
		<script async defer src="../../assets/js/scroll-to-top.min.js"></script>
		<script async defer src="../../../../assets/js/index.bundle.min.js"></script>
		<script async defer src="../../../../assets/js/bootstrap-table.min.js"></script>
		<script async defer src="../../../../assets/js/mermaid.min.js"></script>
		<script async defer src="../../../../search/main.js"></script>		<script
			type="text/javascript"
			src="../../assets/js/highlight.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/bash.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/cpp.min.js">
		</script>
		<script
			type="text/javascript"
			src="../../assets/js/sfz.min.js">
		</script>
		<script>hljs.highlightAll();</script>
		<script>
			window.addEventListener("load", function (event) {
				if (anchors) {
					anchors.options.placement = 'left';
					anchors.add();
				}
			});
		</script><!-- Search Dialog -->
<div
	class="modal fade"
	id="mkdocs_search_modal"
	tabindex="-1"
	role="dialog"
	aria-labelledby="searchModalLabel"
	aria-hidden="true"
>
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-body">
			<div class="modal-header">
				<h4 class="modal-title"
						id="searchModalLabel">Search</h4>
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
				</button>
			</div>
			<div class="modal-body">
				<p>From here you can search these documents. Enter your search terms below.</p>
				<form>
					<div class="form-group">
						<input
							type="search"
							class="form-control"
							placeholder="Search..."
							id="mkdocs-search-query"
							title="Type search term here"
						>
					</div>
				</form>
				<div
						id="mkdocs-search-results"
						data-no-results-text="No results found">
				</div>
			</div>
			<div class="modal-footer"></div>
		</div>
	</div>
</div><!-- Keyboard Dialog -->
				<div
						class="modal"
						id="mkdocs_keyboard_modal"
						tabindex="-1"
						role="dialog"
						aria-labelledby="keyboardModalLabel"
						aria-hidden="true"
				>
						<div class="modal-dialog">
								<div class="modal-content">
										<div class="modal-header">
												<h4 class="modal-title"
														id="keyboardModalLabel">Keyboard Shortcuts</h4>
												<button
														type="button"
														class="close"
														data-dismiss="modal"
												>
														<span aria-hidden="true">&times;</span>
														<span class="visually-hidden">Close</span>
												</button>
										</div>
										<div class="modal-body">
										<table class="table">
												<thead>
												<tr>
														<th style="width: 20%;">Keys</th>
														<th>Action</th>
												</tr>
												</thead>
												<tbody>
												<tr>
														<td class="help shortcut"><kbd>?</kbd></td>
														<td>Open this help</td>
												</tr>
												<tr>
														<td class="next shortcut"><kbd>n</kbd></td>
														<td>Next page</td>
												</tr>
												<tr>
														<td class="prev shortcut"><kbd>p</kbd></td>
														<td>Previous page</td>
												</tr>
												<tr>
														<td class="search shortcut"><kbd>s</kbd></td>
														<td>Search</td>
												</tr>
												</tbody>
										</table>
										</div>
										<div class="modal-footer">
										</div>
								</div>
						</div>
				</div>
	</body>
</html>