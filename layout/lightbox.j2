{#-
	Creates a lightbox gallery
	images: list of image names
	titles: list of alternative text for the images
	name:   the name of the gallery
	path:   the common base directory of the images
-#}
{%-macro make_gallery(images, titles, name, path) %}
	{%-for image in images %}
		{%-set image_url = path + image %}
		{%-set index     = loop.index0 %}
<a href="{{ image_url }}" data-toggle="lightbox" data-gallery="{{ name }}">
	<img src="{{ image_url }}" class="img-fluid" alt="{{ titles[index] }}" style="width:150px">
</a>
	{%-endfor %}
{#- Lightbox is a Carousel inside a Modal dialog
<div id="lightboxCarousel" class="carousel slide" data-bs-theme="dark">
	<div class="carousel-indicators">
	{%-for image in images %}
		{%-set index = loop.index0 %}
		<button
			type="button"
			data-bs-target="#lightboxCarousel"
			data-bs-slide-to="{{ index }}"
		{%-if index == 0 %}
			class="active"
			aria-current="true"
		{%-endif %}
			aria-label="Slide {{ index + 1 }}"></button>
	{%-endfor %}
	</div>
	<div class="carousel-inner">
	{%-for image in images-%}
		{%-set image_url = path + image %}
		{%-set index     = loop.index0 %}
		<div class="carousel-item">
			<img src="{{ image_url }}" class="d-block w-100" alt="{{ titles[index] }}">
			<div class="carousel-caption d-none d-md-block">
				<h5>{{-titles[index] }}</h5>
			</div>
		</div>
	{%-endfor %}
	</div>
	<button
		class="carousel-control-prev"
		type="button"
		data-bs-target="#lightboxCarousel"
		data-bs-slide="prev"
	>
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Previous</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#lightboxCarousel" data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Next</span>
	</button>
</div>
-#}
{%-endmacro %}
